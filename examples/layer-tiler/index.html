<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">
<head>
    <title>Пользовательский слой</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link href="/bootstrap/css/bootstrap.css" rel="stylesheet">

    <script src="http://api-maps.yandex.ru/2.0/?load=package.standard&lang=ru-RU" type="text/javascript"></script>
    <script src="tiler-converter.js" type="text/javascript"></script>

    <script type="text/javascript">
        /**
         * Забираем этот объект из выдачи приложения "Подготовка слоя тайлов".
         * @see http://api.yandex.ru/maps/doc/jsapi/1.x/dg/concepts/ymapstiler.xml
         */
        var options = {
                tileUrlTemplate: "./tiles/%z/%x-%y.png",
                controls: {
                    typeControl: true,
                    miniMap: false,
                    toolBar: true,
                    scaleLine: true
                },
                scrollZoomEnabled: true,
                mapCenter: new YMaps.GeoPoint(0, 0),
                backgroundMapType: YMaps.MapType.NONE,
                mapZoom: 5,
                isTransparent: true,
                smoothZooming: false,
                layerKey: "my#layer",
                mapType: {
                    name: "Мой слой",
                    textColor: "#000000"
                },
                copyright: "",
                /**
                 * Диапазон доступных масштабов на данном слое карты.
                 * Эти два поля приложение не генерит,
                 * их нужно дописать вручную, чтобы корректно работал ZoomControl.
                 */
                layerMinZoom: 0,
                layerMaxZoom: 5
            };

        ymaps.ready(function () {
            // Передаем его в конструктор класса TilerConverter и получаем ссылку на карту.
            var myMap = (new TilerConverter(options)).getMap();

            myMap.events.add('click', function (e) {
                console.log(e.get('coordPosition'));
            });
        });
    </script>
    <style type="text/css">
        #YMapsID {
            width: 900px;
            height: 400px;
        }
    </style>
</head>
<body>
    <div class="hero-unit">
        <div class="container">
            <p>Пользовательский слой.</p>
            <div id="YMapsID"></div>
        </div>
    </div>
</body>
</html>
